---
phase: 01-foundation-validation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - index.html
  - chains.js
autonomous: true

must_haves:
  truths:
    - "HTML page loads with ethers.js and bs58 libraries available"
    - "Chain configuration defines base, base-sepolia, solana, solana-devnet"
    - "Each chain has its valid assets defined (USDC/ETH/USDT for EVM, USDC/SOL for Solana)"
  artifacts:
    - path: "index.html"
      provides: "HTML scaffold with CDN library imports"
      contains: "ethers"
    - path: "chains.js"
      provides: "Chain and asset configuration"
      exports: ["CHAINS", "isEVMChain", "isSolanaChain", "isValidAssetForChain"]
  key_links:
    - from: "index.html"
      to: "chains.js"
      via: "script tag"
      pattern: "<script.*chains\\.js"
---

<objective>
Set up project foundation with HTML scaffold and chain configuration

Purpose: Establish the base structure that the validation engine will build on. Load CDN libraries (ethers.js for EVM validation, bs58 for Solana) and define the chain/asset rules that drive validation.

Output: index.html with working CDN imports, chains.js with chain configuration and helper functions
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-validation/01-CONTEXT.md
@.planning/phases/01-foundation-validation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create HTML scaffold with CDN libraries</name>
  <files>index.html</files>
  <action>
Create index.html with:

1. Basic HTML5 structure with title "x402 Config Validator"
2. CDN script imports (in this order, before other scripts):
   - ethers.js v5.7.2: https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js
   - bs58 v6.0.0: https://cdn.jsdelivr.net/npm/bs58@6.0.0/dist/index.umd.js
3. Script tags for local files (at bottom of body):
   - chains.js
   - validator.js (will be created in Plan 02)
4. Basic container div for future UI (id="app")
5. Minimal inline CSS or style tag for basic layout (optional, can be bare bones)

Note: Use UMD builds for browser compatibility. ethers exposes `ethers` global, bs58 exposes `bs58` global.
  </action>
  <verify>
Open index.html in browser, check browser console:
- `typeof ethers` should be 'object'
- `typeof ethers.utils.getAddress` should be 'function'
- `typeof bs58` should be 'object'
- `typeof bs58.decode` should be 'function'
No 404 errors in network tab.
  </verify>
  <done>HTML loads with both libraries accessible in browser console</done>
</task>

<task type="auto">
  <name>Task 2: Create chain configuration module</name>
  <files>chains.js</files>
  <action>
Create chains.js with:

1. CHAINS constant object defining supported chains:
   ```javascript
   const CHAINS = {
     'base': { type: 'evm', name: 'Base', chainId: 8453 },
     'base-sepolia': { type: 'evm', name: 'Base Sepolia', chainId: 84532 },
     'solana': { type: 'solana', name: 'Solana', cluster: 'mainnet-beta' },
     'solana-devnet': { type: 'solana', name: 'Solana Devnet', cluster: 'devnet' }
   };
   ```

2. ASSETS constant object defining valid assets per chain type:
   ```javascript
   const ASSETS = {
     evm: ['USDC', 'ETH', 'USDT'],
     solana: ['USDC', 'SOL']
   };
   ```

3. Helper functions:
   - `isKnownChain(chain)` - returns true if chain is in CHAINS
   - `isEVMChain(chain)` - returns true if chain exists and type is 'evm'
   - `isSolanaChain(chain)` - returns true if chain exists and type is 'solana'
   - `isValidAssetForChain(chain, asset)` - returns true if asset is valid for chain's type
   - `getChainType(chain)` - returns 'evm', 'solana', or null if unknown

4. Export pattern (for browser globals):
   Make all constants and functions available as globals (no module system needed for plain HTML/JS).
  </action>
  <verify>
After loading chains.js in browser:
- `CHAINS.base.type === 'evm'`
- `CHAINS['solana-devnet'].type === 'solana'`
- `isEVMChain('base') === true`
- `isSolanaChain('solana') === true`
- `isValidAssetForChain('base', 'USDC') === true`
- `isValidAssetForChain('solana', 'ETH') === false`
- `isKnownChain('ethereum') === false`
  </verify>
  <done>Chain configuration module provides all validation helpers for supported chains and assets</done>
</task>

</tasks>

<verification>
After both tasks:
1. Open index.html in browser
2. Open browser console
3. Run verification checks:
   ```javascript
   // CDN libraries loaded
   console.log('ethers:', typeof ethers.utils.getAddress);
   console.log('bs58:', typeof bs58.decode);

   // Chain config loaded
   console.log('CHAINS:', Object.keys(CHAINS));
   console.log('base is EVM:', isEVMChain('base'));
   console.log('solana is Solana:', isSolanaChain('solana'));
   console.log('USDC on base:', isValidAssetForChain('base', 'USDC'));
   console.log('SOL on base:', isValidAssetForChain('base', 'SOL'));
   ```
4. All checks should pass with expected values
</verification>

<success_criteria>
- index.html loads without errors
- ethers.js v5.7.2 available as global `ethers`
- bs58 v6.0.0 available as global `bs58`
- chains.js loaded with CHAINS, ASSETS, and helper functions
- All 4 supported chains defined with correct types
- Asset validation returns correct results for chain/asset pairs
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-validation/01-01-SUMMARY.md`
</output>
